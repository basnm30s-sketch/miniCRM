Category,Spec File,Goal,Scenario,Steps
1. Safety & Critical Paths,e2e/smoke.spec.ts,"Verify the application starts and main components are accessible.","App Launch & Navigation","1. Launch application. 2. Verify ""Dashboard"" is visible. 3. Click through main navigation links (Quotes, Invoices, Customers, Vehicles, Employees). 4. Verify each page loads without console errors. 5. Verify Database Connection by checking if the ""Stats"" widgets on Dashboard load numbers (not error states)."
1. Safety & Critical Paths,e2e/flows/quote-to-invoice.spec.ts,"Verify the core revenue generation workflow.","Quote to Paid Invoice Lifecycle","1. Create a new Customer ""John Doe"". 2. Create a Quote for ""John Doe"" with 2 line items (Service A $100, Service B $200). 3. Save Quote and verify Total is $300. 4. Click ""Convert to Invoice"" button. 5. Verify user is redirected to a new Invoice page. 6. Verify Invoice has: Same Customer, Same Line Items, Same Total ($300). 7. Change Invoice Status to ""Paid"". 8. Verify Invoice appears in ""Paid"" list."
1. Safety & Critical Paths,e2e/flows/payroll-cycle.spec.ts,"Verify the expense/salary workflow.","Monthly Payroll Generation","1. Create new Employee ""Jane Smith"" (Role: Driver). 2. Navigate to ""Payslips"". 3. Click ""Generate Payslip"". 4. Select ""Jane Smith"" and Month ""October 2025"". 5. Enter Amount ""$3000"". 6. Save. 7. Verify Payslip appears in the list with correct details. 8. Attempt to create a duplicate Payslip for ""Jane Smith"" in ""October 2025"" -> Verify Error Message (Constraint Check)."
2. Core Entities Regression,e2e/modules/customers.spec.ts,"Verify Customer management.","CRUD Operations","Create: Add Customer ""Acme Corp"", Email ""info@acme.com"", Phone ""555-0000"". Verify in list. Edit: Change name to ""Acme Inc"". Verify change in list. Delete Check: Create a Quote for ""Acme Inc"". Try to Delete ""Acme Inc"" -> Verify ""Cannot delete"" error (Reference Constraint). Delete: Delete a standard customer with no links -> Verify removal."
2. Core Entities Regression,e2e/modules/invoices.spec.ts,"Verify Invoice specifics (Calculations, Status).","Invoice Management","Create: Manual Invoice creation (no quote). Add item with decimal price ($10.50 * 3). Verify Total ($31.50). Edit: Open Invoice, Add new item. Verify Subtotal and Grand Total update dynamically. Delete: Delete an invoice. Verify it disappears from list."
2. Core Entities Regression,e2e/modules/quotes.spec.ts,"Verify Quote specifics.","Quote Management","Create: Create Quote. Verify default status is ""Draft"". Edit: Change Customer. Verify update. Preview: Click ""Preview PDF"" (if available in UI flow). Verify modal opens."
2. Core Entities Regression,e2e/modules/vehicles.spec.ts,"Verify Fleet management and Financial Charting visibility.","Vehicle Lifecycle & Stats","Create: Add Vehicle ""Toyota Camry"", Reg ""ABC-123"". Dup Check: Try to add another ""ABC-123"" -> Verify Unique Constraint error. Profitability: Click ""View Profitability"". Verify Chart/Table container exists (Visual check). Delete: Delete vehicle."
3. Operational Modules,e2e/modules/employees.spec.ts,"Verify Staff management.","Staff Management","Create: Add Employee ""Bob"", Role ""Manager"". Edit: Change Role to ""Admin"". Delete: Delete Employee."
3. Operational Modules,e2e/modules/vendors.spec.ts,"Verify Supplier management.","Vendor Management","Create: Add Vendor ""Parts Co"". Ref Check: Create Expense for ""Parts Co"". Delete: Delete Vendor."
3. Operational Modules,e2e/modules/vehicle-transactions.spec.ts,"Verify logging of expenses/income.","Transaction Logging","Log Expense: Add ""Fuel"" expense $50 for ""Toyota Camry"". Date: Today. Log Income: Add ""Service Income"" $200 for ""Toyota Camry"". Verify: Go to Vehicle Profitability page for ""Toyota Camry"". Verify ""Net Profit"" reflects these numbers (Income - Expense)."
3. Operational Modules,e2e/modules/payslips.spec.ts,"Verify Historical view/deletion.","Payslip Management","List: Verify list shows payslips sorted by month. Delete: Delete a specific payslip. Verify it is removed from history."
4. Config & Artifacts,e2e/modules/admin.spec.ts,"Verify Global Settings & Branding.","Settings & Branding","Update Info: Change Company Name to ""My CRM v2"". Save. Reload page. Verify name persists. Upload Logo: Upload ""logo.png"". Verify Success message. Verify Image src updates on Settings page."
4. Config & Artifacts,e2e/modules/expense-categories.spec.ts,"Verify Customization of expenses.","Category Management","Create: Add custom category ""Toll Fees"". Usage: Go to Vehicle Transactions -> Verify ""Toll Fees"" appears in dropdown."
4. Config & Artifacts,e2e/modules/file-uploads.spec.ts,"Verify generic file attachments (if applicable feature exists).","Attachment Handling","Upload a PDF to a Quote/Customer (if feature exists). Verify file appears in list. Delete file."
4. Config & Artifacts,e2e/artifacts/downloads.spec.ts,"Verify functionality of export buttons.","PDF Generation","Navigate to a Quote. Note Quote Number. Click ""Download PDF"". Verify: Intercept download event. Assert: Filename contains Quote Number (e.g., Quote-Q001.pdf). Assert: Content-Type is application/pdf."
